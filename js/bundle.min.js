function initializeApp(){void 0!==AgeGate&&AgeGate.init(),"undefined"!=typeof Navigation&&Navigation.init(),"undefined"!=typeof Cart&&Cart.init(),"undefined"!=typeof ProductFilter&&ProductFilter.init(),"undefined"!=typeof Forms&&Forms.init(),"undefined"!=typeof Notifications&&Notifications.init(),setupDiscreetMode(),setupScrollEffects(),setupKeyboardShortcuts()}async function loadProducts(){try{const e=await fetch("./data/products.json");if(e.ok){const t=await e.json();window.EroticaLifestyle.currentProducts=t.products,renderProducts(t.products)}else loadDummyProducts()}catch(e){console.log("Loading dummy products as fallback"),loadDummyProducts()}}function loadDummyProducts(){const e=[{id:"luxury-rabbit",name:"Luxury Rabbit Vibrator",description:"Premium silicone dual stimulation with 10 vibration patterns",price:45e3,originalPrice:null,category:"vibrators",badge:"Bestseller",badgeType:"primary",rating:4.9,reviews:127,icon:"fas fa-heart",inStock:!0},{id:"couples-ring",name:"Couples' Pleasure Ring",description:"Rechargeable vibrating ring for enhanced intimacy",price:28500,originalPrice:null,category:"couples",badge:"New",badgeType:"success",rating:4.7,reviews:89,icon:"fas fa-users",inStock:!0},{id:"organic-lube",name:"Premium Organic Lubricant",description:"Long-lasting, water-based, pH-balanced formula",price:15750,originalPrice:null,category:"wellness",badge:"Organic",badgeType:"default",rating:4.8,reviews:203,icon:"fas fa-leaf",inStock:!0},{id:"clitoral-stimulator",name:"Clitoral Stimulator",description:"Whisper-quiet suction technology with 11 intensity levels",price:52800,originalPrice:null,category:"vibrators",badge:"4.9â˜…",badgeType:"default",rating:4.9,reviews:156,icon:"fas fa-star",inStock:!0},{id:"kegel-balls",name:"Smart Kegel Balls",description:"App-connected pelvic floor trainer with biofeedback",price:38250,originalPrice:null,category:"wellness",badge:"Kegel",badgeType:"default",rating:4.6,reviews:78,icon:"fas fa-dumbbell",inStock:!0},{id:"care-kit",name:"Luxury Care Kit",description:"Complete cleaning & maintenance essentials bundle",price:22400,originalPrice:null,category:"accessories",badge:"Bundle",badgeType:"default",rating:4.5,reviews:92,icon:"fas fa-box",inStock:!0}];window.EroticaLifestyle.currentProducts=e,renderProducts(e)}function renderProducts(e){const t=document.getElementById("productGrid");t&&(t.innerHTML="",e.forEach(e=>{const o=createProductCard(e);t.appendChild(o)}),setupAnimations())}function createProductCard(e){const t=document.createElement("div");t.className="product-card",t.setAttribute("data-category",e.category);const o=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e.price),i=Array.from({length:5},(t,o)=>`<i class="fas fa-star${o<Math.floor(e.rating)?"":" opacity-30"}"></i>`).join("");return t.innerHTML=`\n        <div class="product-image bg-gradient-to-br from-${getCategoryColor(e.category)}-100 to-${getCategoryColor(e.category)}-200">\n            <i class="${e.icon} text-6xl opacity-50 text-${getCategoryColor(e.category)}-500"></i>\n            <div class="product-badge">\n                <span class="badge ${"primary"===e.badgeType?"badge-primary":"success"===e.badgeType?"badge-success":""}">${e.badge}</span>\n            </div>\n            <button class="product-quickview" onclick="openQuickView('${e.id}')" title="Quick View">\n                <i class="fas fa-eye"></i>\n            </button>\n        </div>\n        <div class="product-content">\n            <h3 class="product-title">${e.name}</h3>\n            <p class="product-description">${e.description}</p>\n            <div class="product-rating">\n                <div class="product-stars">\n                    ${i}\n                </div>\n                <span class="product-reviews">(${e.reviews} reviews)</span>\n            </div>\n            <div class="product-footer">\n                <div class="product-price">${o}</div>\n                <div class="product-actions">\n                    <button class="product-btn" onclick="addToCart('${e.id}')" ${e.inStock?"":"disabled"}>\n                        <i class="fas fa-cart-plus"></i>\n                        ${e.inStock?"Add to Cart":"Out of Stock"}\n                    </button>\n                    <button class="product-btn-wishlist" onclick="toggleWishlist('${e.id}')" title="Add to Wishlist">\n                        <i class="fas fa-heart"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n    `,t}function getCategoryColor(e){return{vibrators:"pink",couples:"purple",wellness:"green",accessories:"gray"}[e]||"gray"}function setupDiscreetMode(){window.toggleDiscreetMode=function(){window.EroticaLifestyle.isDiscreetMode=!window.EroticaLifestyle.isDiscreetMode;const e=document.body,t=document.getElementById("discreteIcon");window.EroticaLifestyle.isDiscreetMode?(e.classList.add("discreet-mode"),t.className="fas fa-eye-slash text-xl","undefined"!=typeof Notifications&&Notifications.show("Discreet mode enabled","success")):(e.classList.remove("discreet-mode"),t.className="fas fa-eye text-xl","undefined"!=typeof Notifications&&Notifications.show("Discreet mode disabled","info")),localStorage.setItem("discreteMode",window.EroticaLifestyle.isDiscreetMode)};"true"===localStorage.getItem("discreteMode")&&toggleDiscreetMode()}function setupScrollEffects(){let e=0,t=!1;function o(){const o=window.pageYOffset||document.documentElement.scrollTop,i=document.getElementById("navbar");i&&(o>100?i.classList.add("nav-scrolled"):i.classList.remove("nav-scrolled"),Math.abs(o-e)>5&&(i.style.transform=o>e&&o>200?"translateY(-100%)":"translateY(0)",e=o)),t=!1}window.addEventListener("scroll",function(){t||(requestAnimationFrame(o),t=!0)},{passive:!0})}function setupAnimations(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.animation="fadeInUp 0.6s ease forwards",e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".product-card, .glass-card, .hero-content").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(20px)",e.observe(t)})}function setupKeyboardShortcuts(){document.addEventListener("keydown",function(e){if("Escape"===e.key){document.querySelectorAll(".modal.active").forEach(e=>e.classList.remove("active"))}if("d"===e.key&&e.ctrlKey&&(e.preventDefault(),toggleDiscreetMode()),"/"===e.key){e.preventDefault();const t=document.querySelector(".nav-search-input");t&&t.focus()}})}function setupPerformanceMonitoring(){if(window.addEventListener("load",function(){setTimeout(()=>{if(performance.getEntriesByType){const e=performance.getEntriesByType("navigation")[0];e&&console.log("Page Load Performance:",{domContentLoaded:Math.round(e.domContentLoadedEventEnd-e.fetchStart),fullyLoaded:Math.round(e.loadEventEnd-e.fetchStart),firstPaint:performance.getEntriesByType("paint")[0]?.startTime||0})}},0)}),"PerformanceObserver"in window){new PerformanceObserver(e=>{for(const t of e.getEntries())t.duration>1e3&&console.warn("Slow resource detected:",t.name,t.duration+"ms")}).observe({entryTypes:["resource"]})}}function fallbackShare(e){const t=window.location.href+"#"+e;navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{"undefined"!=typeof Notifications&&Notifications.show("Article link copied to clipboard!","success")}).catch(()=>{showShareOptions(e)}):showShareOptions(e)}function showShareOptions(e){const t=`Check out this wellness article from Erotica Lifestyle: ${window.location.href}#${e}`,o=encodeURIComponent(t),i=encodeURIComponent(window.location.href+"#"+e),n=document.createElement("div");n.innerHTML=`\n        <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 12px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); z-index: 1000; max-width: 300px;">\n            <h3 style="margin-bottom: 16px; color: #2E1037; font-family: 'Playfair Display', serif;">Share Article</h3>\n            <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 16px;">\n                <a href="https://twitter.com/intent/tweet?text=${o}" target="_blank" style="padding: 8px 16px; background: #1DA1F2; color: white; text-decoration: none; border-radius: 6px; font-size: 14px;">Twitter</a>\n                <a href="https://www.facebook.com/sharer/sharer.php?u=${i}" target="_blank" style="padding: 8px 16px; background: #4267B2; color: white; text-decoration: none; border-radius: 6px; font-size: 14px;">Facebook</a>\n                <a href="https://api.whatsapp.com/send?text=${o}" target="_blank" style="padding: 8px 16px; background: #25D366; color: white; text-decoration: none; border-radius: 6px; font-size: 14px;">WhatsApp</a>\n            </div>\n            <button onclick="this.parentElement.parentElement.remove()" style="padding: 8px 16px; background: #E6007E; color: white; border: none; border-radius: 6px; cursor: pointer; width: 100%;">Close</button>\n        </div>\n        <div onclick="this.remove()" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 999;"></div>\n    `,document.body.appendChild(n)}function initializeBlogBookmarks(){JSON.parse(localStorage.getItem("blogBookmarks")||"[]").forEach(e=>{const t=document.querySelector(`[onclick="bookmarkArticle('${e}')"]`);t&&t.classList.add("bookmarked")})}window.EroticaLifestyle={isDiscreetMode:!1,cartItems:[],wishlistItems:[],currentProducts:[],filters:{category:"all",priceRange:[0,1e5],sortBy:"name"}},document.addEventListener("DOMContentLoaded",function(){console.log("ðŸŽ‰ Erotica Lifestyle - Modern UI loaded successfully"),initializeApp(),loadProducts(),setupAnimations(),setupPerformanceMonitoring()}),window.addToCart=function(e){const t=window.EroticaLifestyle.currentProducts.find(t=>t.id===e);if(t){if(window.EroticaLifestyle.cartItems.push(e),"undefined"!=typeof Cart)Cart.updateBadge();else{const e=document.getElementById("cartBadge");e&&(e.textContent=window.EroticaLifestyle.cartItems.length,e.style.animation="pulse 0.3s ease",setTimeout(()=>e.style.animation="",300))}"undefined"!=typeof Notifications&&Notifications.show(`${t.name} added to cart!`,"success")}},window.toggleWishlist=function(e){const t=window.EroticaLifestyle.wishlistItems.indexOf(e),o=event.target.closest(".product-btn-wishlist");t>-1?(window.EroticaLifestyle.wishlistItems.splice(t,1),o.classList.remove("active"),"undefined"!=typeof Notifications&&Notifications.show("Removed from wishlist","info")):(window.EroticaLifestyle.wishlistItems.push(e),o.classList.add("active"),"undefined"!=typeof Notifications&&Notifications.show("Added to wishlist","success")),localStorage.setItem("wishlist",JSON.stringify(window.EroticaLifestyle.wishlistItems))},window.openQuickView=function(e){const t=window.EroticaLifestyle.currentProducts.find(t=>t.id===e);t&&"undefined"!=typeof Notifications&&Notifications.show(`Quick view for ${t.name} - Feature coming soon!`,"info")},window.debounce=function(e,t){let o;return function(...i){clearTimeout(o),o=setTimeout(()=>{clearTimeout(o),e(...i)},t)}},window.throttle=function(e,t){let o,i;return function(...n){i?(clearTimeout(o),o=setTimeout(()=>{Date.now()-i>=t&&(e.apply(this,n),i=Date.now())},t-(Date.now()-i))):(e.apply(this,n),i=Date.now())}},window.loadMoreProducts=function(){"undefined"!=typeof Notifications&&Notifications.show("Loading more products...","info"),setTimeout(()=>{const e=[{id:"rose-gold-wand",name:"Rose Gold Wand Massager",description:"Elegant powerful wand with luxury rose gold finish and 20 vibration patterns",price:67500,category:"vibrators",badge:"Luxury",badgeType:"warning",rating:4.8,reviews:64,icon:"fas fa-magic",inStock:!0},{id:"intimate-serum",name:"Intimate Wellness Serum",description:"Natural sensitivity-enhancing serum with organic ingredients",price:19800,category:"wellness",badge:"Natural",badgeType:"success",rating:4.4,reviews:134,icon:"fas fa-seedling",inStock:!0}],t=document.getElementById("productGrid");e.forEach(e=>{const o=createProductCard(e);t.appendChild(o)}),window.EroticaLifestyle.currentProducts.push(...e),"undefined"!=typeof Notifications&&Notifications.show(`${e.length} more products loaded!`,"success"),setupAnimations()},1e3)},window.openBlogPost=function(e){"undefined"!=typeof Notifications&&Notifications.show("Opening blog post...","info"),setTimeout(()=>{"undefined"!=typeof Notifications&&Notifications.show("Blog post feature coming soon! We're working on detailed wellness content.","info")},500)},window.bookmarkArticle=function(e){let t=JSON.parse(localStorage.getItem("blogBookmarks")||"[]");const o=event.target.closest(".blog-bookmark");t.includes(e)?(t=t.filter(t=>t!==e),o.classList.remove("bookmarked"),"undefined"!=typeof Notifications&&Notifications.show("Bookmark removed","info")):(t.push(e),o.classList.add("bookmarked"),"undefined"!=typeof Notifications&&Notifications.show("Article bookmarked!","success")),localStorage.setItem("blogBookmarks",JSON.stringify(t))},window.shareArticle=function(e){navigator.share?navigator.share({title:"Erotica Lifestyle Wellness Article",text:"Check out this wellness article from Erotica Lifestyle",url:window.location.href+"#"+e}).then(()=>{"undefined"!=typeof Notifications&&Notifications.show("Article shared successfully!","success")}).catch(()=>{fallbackShare(e)}):fallbackShare(e)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeBlogBookmarks):initializeBlogBookmarks(),window.openPartnerForm=function(e){"undefined"!=typeof Notifications&&Notifications.show("Opening partnership application...","info");const t={manufacturer:"manufacturers@eroticalifestyle.com",distributor:"logistics@eroticalifestyle.com",retailer:"retail@eroticalifestyle.com",technology:"tech@eroticalifestyle.com"},o=document.createElement("div");o.innerHTML=`\n        <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 20px;" onclick="this.remove()">\n            <div style="background: white; padding: 32px; border-radius: 16px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto;" onclick="event.stopPropagation()">\n                <div style="text-align: center; margin-bottom: 24px;">\n                    <h2 style="color: #2E1037; font-family: 'Playfair Display', serif; font-size: 1.75rem; margin-bottom: 8px;">${{manufacturer:"Manufacturing Partner Application",distributor:"Distribution Partner Application",retailer:"Retail Partner Application",technology:"Technology Partner Application"}[e]}</h2>\n                    <p style="color: #535353; font-size: 0.875rem;">Join Africa's premier wellness ecosystem</p>\n                </div>\n                \n                <form id="partnerForm" style="space-y: 16px;">\n                    <div style="margin-bottom: 16px;">\n                        <input type="text" name="companyName" placeholder="Company Name" required style="width: 100%; padding: 12px 16px; border: 2px solid #EBE3D6; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.3s;" onfocus="this.style.borderColor='#E6007E'" onblur="this.style.borderColor='#EBE3D6'">\n                    </div>\n                    \n                    <div style="margin-bottom: 16px;">\n                        <input type="text" name="contactName" placeholder="Contact Person" required style="width: 100%; padding: 12px 16px; border: 2px solid #EBE3D6; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.3s;" onfocus="this.style.borderColor='#E6007E'" onblur="this.style.borderColor='#EBE3D6'">\n                    </div>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">\n                        <input type="email" name="email" placeholder="Email Address" required style="padding: 12px 16px; border: 2px solid #EBE3D6; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.3s;" onfocus="this.style.borderColor='#E6007E'" onblur="this.style.borderColor='#EBE3D6'">\n                        <input type="tel" name="phone" placeholder="Phone Number" required style="padding: 12px 16px; border: 2px solid #EBE3D6; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.3s;" onfocus="this.style.borderColor='#E6007E'" onblur="this.style.borderColor='#EBE3D6'">\n                    </div>\n                    \n                    <div style="margin-bottom: 16px;">\n                        <input type="text" name="location" placeholder="Company Location" required style="width: 100%; padding: 12px 16px; border: 2px solid #EBE3D6; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.3s;" onfocus="this.style.borderColor='#E6007E'" onblur="this.style.borderColor='#EBE3D6'">\n                    </div>\n                    \n                    <div style="margin-bottom: 16px;">\n                        <textarea name="experience" placeholder="Tell us about your company and relevant experience..." rows="4" required style="width: 100%; padding: 12px 16px; border: 2px solid #EBE3D6; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.3s; resize: vertical;" onfocus="this.style.borderColor='#E6007E'" onblur="this.style.borderColor='#EBE3D6'"></textarea>\n                    </div>\n                    \n                    <div style="margin-bottom: 24px;">\n                        <textarea name="proposal" placeholder="What specific partnership opportunities are you interested in?" rows="3" required style="width: 100%; padding: 12px 16px; border: 2px solid #EBE3D6; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.3s; resize: vertical;" onfocus="this.style.borderColor='#E6007E'" onblur="this.style.borderColor='#EBE3D6'"></textarea>\n                    </div>\n                    \n                    <div style="display: flex; gap: 12px;">\n                        <button type="submit" style="flex: 1; padding: 12px 24px; background: linear-gradient(135deg, #E6007E, #C5006B); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.3s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">\n                            <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>\n                            Submit Application\n                        </button>\n                        <button type="button" onclick="this.closest('div[style*="position: fixed"]').remove()" style="padding: 12px 24px; background: transparent; color: #2E1037; border: 2px solid #2E1037; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.backgroundColor='#2E1037'; this.style.color='white'" onmouseout="this.style.backgroundColor='transparent'; this.style.color='#2E1037'">\n                            Cancel\n                        </button>\n                    </div>\n                    \n                    <div style="text-align: center; margin-top: 16px; padding-top: 16px; border-top: 1px solid #EBE3D6;">\n                        <p style="font-size: 0.75rem; color: #535353;">Direct contact: <a href="mailto:${t[e]}" style="color: #E6007E; text-decoration: none;">${t[e]}</a></p>\n                    </div>\n                </form>\n            </div>\n        </div>\n    `;const i=o.querySelector("#partnerForm");i.addEventListener("submit",function(t){t.preventDefault(),"undefined"!=typeof Notifications&&Notifications.show("Partnership application submitted! We'll contact you within 48 hours.","success"),setTimeout(()=>{o.remove()},1500);const n=new FormData(i),r={partnerType:e,companyName:n.get("companyName"),contactName:n.get("contactName"),email:n.get("email"),phone:n.get("phone"),location:n.get("location"),experience:n.get("experience"),proposal:n.get("proposal"),timestamp:(new Date).toISOString()};console.log("Partner Application:",r)}),document.body.appendChild(o),setTimeout(()=>{const e=o.querySelector('input[name="companyName"]');e&&e.focus()},100)};const AgeGate={init(){this.checkAgeVerification(),this.setupEventListeners()},checkAgeVerification(){const e=localStorage.getItem("ageVerified"),t=document.getElementById("ageGate");"true"===e&&t&&this.hideAgeGate()},setupEventListeners(){window.acceptAge=()=>this.acceptAge(),window.declineAge=()=>this.declineAge(),document.addEventListener("keydown",e=>{const t=document.getElementById("ageGate");t&&!t.classList.contains("hidden")&&("Enter"===e.key?this.acceptAge():"Escape"===e.key&&this.declineAge())})},acceptAge(){try{localStorage.setItem("ageVerified","true"),localStorage.setItem("ageVerifiedDate",(new Date).toISOString()),this.hideAgeGate(),this.trackAgeVerification(!0),"undefined"!=typeof Notifications&&setTimeout(()=>{Notifications.show("Welcome to Erotica Lifestyle","success")},1e3)}catch(e){console.error("Error accepting age verification:",e)}},declineAge(){try{this.trackAgeVerification(!1),localStorage.removeItem("ageVerified"),localStorage.removeItem("ageVerifiedDate"),window.location.href="https://www.google.com"}catch(e){console.error("Error declining age verification:",e),window.history.length>1?window.history.back():window.location.href="https://www.google.com"}},hideAgeGate(){const e=document.getElementById("ageGate");e&&(e.classList.add("hidden"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},500))},trackAgeVerification(e){"undefined"!=typeof gtag&&gtag("event","age_verification",{event_category:"engagement",event_label:e?"accepted":"declined",value:e?1:0}),console.log("Age verification "+(e?"accepted":"declined"))},isVerificationExpired(){const e=localStorage.getItem("ageVerifiedDate");if(!e)return!0;const t=new Date(e);return(new Date-t)/864e5>30},resetVerification(){localStorage.removeItem("ageVerified"),localStorage.removeItem("ageVerifiedDate"),location.reload()},isVerified(){const e="true"===localStorage.getItem("ageVerified"),t=this.isVerificationExpired();return e&&!t}};"undefined"!=typeof module&&module.exports&&(module.exports=AgeGate);